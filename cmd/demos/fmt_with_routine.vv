
fmt := import("fmt")
times := import("times")

writeRoutine := func(num) {
    return func() {
        for i := 0; i < 100; i++ {
            fmt.println("Hello from writeRoutine: "+ num + " i: " + i)
            times.sleep(500*times.millisecond)
        }
    }
}

r1 := go(writeRoutine(1))
go(writeRoutine(2))
go(writeRoutine(3))
times.sleep(3 * times.second)
fmt.println("Aborting routine 1")
r1.abort()


times.sleep(3 * times.second)
fmt.println("Aborting all routines")
abort()